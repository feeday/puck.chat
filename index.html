<!DOCTYPE html>
<!-- saved from url=(0025)https://feeday.github.io/ -->
<html lang="zh-CN"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script language="javascript" type="text/javascript">
function goPAGE() {
	if ((navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i))) {
		window.location.href="m.html";   // 移动端跳转地址
}
}
goPAGE();
</script>
      <title>文本处理器</title>
      <link rel="shortcut icon" href="https://github.githubassets.com/favicons/favicon.svg">
<style>
body {
font-family: Arial, sans-serif;
width: 98%;
margin: 0 auto;
}

h1 {
  text-align: center;
  margin-top: 20px;
}

#textarea {
  width: 98%;
  height: 380px;
  margin-top: 20px;
  font-size: 16px;
  padding: 10px;
  border: 2px solid #ddd;
  border-radius: 5px;
}

#stats {
  display: flex;
  justify-content: space-between;
  margin-top: 20px;
  font-size: 10px;
  padding: 10px;
  background-color: #eee;
  border-radius: 5px;
}

#stats div {
  margin-right: 20px;
}

#stats div:last-child {
  margin-right: 0;
}

#stats div span {
  font-weight: bold;
  font-size: 24px;
  display: block;
  margin-top: 5px;
}

    .input-group {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
    }

    .input-group input {
      margin-right: 10px;
      padding: 8px 16px;
      border: 1px solid #ddd;
      border-radius: 5px;
    }

    .input-group button {
      font-size: 12px;
      padding: 8px 16px;
      border: none;
      border-radius: 5px;
      color: #fff;
      cursor: pointer;
      transition: background-color 0.3s;
      background-color: #28a745;
      margin-right: 10px; /* 添加按钮之间的右边距 */
    }

    .input-group button:active {
      background-color: #2C6F33;
	  
    }

  <style>
    div {
}
    /* 搜索功能样式 */
    .search-container {
      margin-top: 20px;
    }

    input[type="text"] {
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
      outline: none;
      font-size: 16px;
      width: 680px;
    }

    button {
      padding: 8px 16px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
    }

    button:hover {
      background-color: #45a049;
    }

    select {
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
      outline: none;
      font-size: 16px;
      background-color: #fff;
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
      cursor: pointer;
    }

    select:hover {
      border-color: #999;
    }

    select:focus {
      border-color: #555;
    }

    select::after {
      content: "\25BC";
      position: absolute;
      top: 50%;
      right: 10px;
      transform: translateY(-50%);
      color: #555;
      pointer-events: none;
    }

    /* 语音输入样式 */
    #inputField {
      width: 300px;
      height: 40px;
      padding: 10px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    .button {
      display: inline-block;
      padding: 10px 10px;
      font-size: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      background-color: #f1f1f1;
      color: #333;
      cursor: pointer;
      transition: background-color 0.3s, color 0.3s;
    }

    .button:hover {
      background-color: #ccc;
      color: #fff;
    }

    .button:disabled {
      background-color: #e0e0e0;
      color: #999;
      cursor: not-allowed;
    }
  </style>
  <script>
    function search() {
      var searchInput = document.getElementById("searchInput");
      var searchEngine = document.getElementById("searchEngine").value;
      var query = encodeURIComponent(searchInput.value);
      var url = searchEngine + query; // 构建完整的搜索链接
      window.open(url, "_blank"); // 在新页面打开搜索结果
    }

    // 创建语音识别对象和按钮元素的引用
    const recognition = new webkitSpeechRecognition();
    const startButton = document.getElementById('startButton');
    const stopButton = document.getElementById('stopButton');

    // 设置语言为中文（中国）
    recognition.lang = 'zh-CN';

    // 当识别到语音时的回调函数
    recognition.onresult = function(event) {
      // 获取识别结果
      const transcript = event.results[0][0].transcript;

      // 将识别结果填充到输入框
      document.getElementById('searchInput').value = transcript;
    }

    // 实时更新语音输入
    recognition.onaudiostart = function(event) {
      setInterval(function() {
        const interimTranscript = recognition.interimResults[recognition.interimResults.length - 1][0].transcript;
        document.getElementById('searchInput').value = interimTranscript;
      }, 200);
    }

    // 开始语音识别
function startSpeechRecognition() {
  recognition.start();

  // 禁用开始按钮，启用停止按钮
  startButton.disabled = true;
  stopButton.disabled = false;

  // 设置10秒后停止语音识别
  setTimeout(stopSpeechRecognition, 10000); // 10秒
}

// 停止语音识别
function stopSpeechRecognition() {
  recognition.stop();

  // 启用开始按钮，禁用停止按钮
  startButton.disabled = false;
  stopButton.disabled = true;
}
  </script>
</head>
<body>
  <div class="search-container">
    <select id="searchEngine">
      <option value="https://www.google.com/search?q=">谷歌搜索</option>
      <option value="https://www.baidu.com/s?q1=">百度搜索</option>
      <option value="https://search.bilibili.com/all?keyword=">哔站视频</option>
      <option value="https://www.douyin.com/search/">抖音视频</option>
      <option value="https://www.youtube.com/results?search_query=">油管视频</option>
      <option value="https://pic.sogou.com/pics?query=">搜狗图片</option>
      <option value="https://tieba.baidu.com/f/search/res?ie=utf-8&amp;qw=">贴吧帖子</option>
      <option value="https://github.com/feeday/feeday.github.io/issues?q=" selected="">代码笔记</option>
    </select>
    <input type="text" id="searchInput" placeholder="搜索我的笔记和问题" onfocus="if (document.getElementById(&#39;searchEngine&#39;).value === &#39;https://github.com/feeday/feeday.github.io/issues?q=&#39;) this.placeholder = &#39;搜索我的笔记和问题&#39;; else this.placeholder = &#39;&#39;;">
    <button class="button" onclick="search()">搜索</button>
    <button class="button" onclick="document.getElementById(&#39;searchInput&#39;).value = &#39;&#39;;">清空</button>
    <a href="https://github.com/feeday/feeday.github.io/issues" target="_blank"><button class="button">笔记</button></a>
    <button id="startButton" class="button" onclick="startSpeechRecognition()">语音输入</button>
    <button id="stopButton" class="button" onclick="stopSpeechRecognition()">停止输入</button>
  </div>

<textarea id="textarea" placeholder="服务器一键配置脚本：
curl https://puck.chat/sh/puck.sh -O
数字：[0-9]*
非数字：[^0-9]*
n位的数字：\d{n}
至少n位的数字：\d{n,}
匹配多行文本中每行的最后的两个字符:.{2}(?=\n|$)
匹配多行文本中每行的开始的两个字符:(?&lt;=^|\n).{2}
中文字符的正则表达式：[\u4e00-\u9fa5]
英文和数字：[A-Za-z0-9]+ 或 [A-Za-z0-9]{4,40}
长度为3-20的所有字符：.{3,20}
由数字和26个英文字母组成的字符串：[A-Za-z0-9]+
由数字、26个英文字母或者下划线组成的字符串：\w+ 或 \w{3,20}
由纯网址组成的字符串：https?:\/\/[^\s/$.?#].[^\s]*"></textarea>
<div class="input-group">
<input id="search-input" style="width: 25%;" placeholder="输入要查找的文本">
<input id="replace-input" style="width: 25%;" placeholder="输入要替换的文本">
<input type="text" class="form-control mx-3" id="api_key" name="api_key" style="width: 49%;" placeholder="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">
</div>
<div class="input-group">
<button class="button" id="remove-duplicates-btn" style="background-color: #007bff; color: white;">去重</button>
<button class="button" id="replace-btn" style="background-color: #007bff; color: white;">替换</button>
<button class="button" id="regex-replace-btn" style="background-color: #A52A2A; color: white;">正则</button>
<button class="button" id="copy-btn" style="background-color: #FFA500; color: white;">复制</button>
<button class="button" id="paste-btn" style="background-color: #FF4500; color: white;">粘贴</button>
<button class="button" id="clear-btn" style="background-color: red; color: white;">清空</button>
<button onclick="formatAndPreview()" style="background-color: #511a1a; color: white;">网页</button>
<button class="button" style="background-color: purple; color: white;" id="openai-btn" data-api-url="https://api.openai.com/v1/chat/completions">官方密钥</button>
<button class="button" style="background-color: purple; color: white;" id="openkey-btn" data-api-url="https://openkey.cloud/v1/chat/completions">国内密钥</button>
<a href="https://platform.openai.com/account/api-keys" target="_blank"><button class="button">官方密钥</button></a>
<a href="https://openkey.cloud/token" target="_blank"><button class="button">国内密钥</button></a>
<a href="https://chat18.aichatos.xyz/"><button class="button">智能提问</button></a>   
<a href="https://chat.openai.com/" target="_blank"><button class="button">高级提问</button></a>
<a href="m.html" target="_blank"><button class="button">视频取图</button></a>
</div>
<div id="stats">
<div id="total">总数：0</div>
<div id="chinese">汉字：0</div>
<div id="punctuation">标点：0</div>
<div id="alphabet">字母：0</div>
<div id="numbers">数字：0</div>
<div id="duplicate">重复：0</div>
<div id="replace-count">替换：0</div>
<div id="regex-replace-count">正则：0</div>
</div>
<script>
const textarea = document.getElementById("textarea");
const searchInput = document.getElementById("search-input");
const replaceInput = document.getElementById("replace-input");
const replaceBtn = document.getElementById("replace-btn");
const regexReplaceBtn = document.getElementById("regex-replace-btn");
const clearBtn = document.getElementById("clear-btn");
const removeDuplicatesBtn = document.getElementById("remove-duplicates-btn");
const totalEl = document.getElementById("total");
const chineseEl = document.getElementById("chinese");
const punctuationEl = document.getElementById("punctuation");
const alphabetEl = document.getElementById("alphabet");
const numbersEl = document.getElementById("numbers");
const duplicateEl = document.getElementById("duplicate");

const textarea2 = document.getElementById("textarea");
const copyBtn = document.getElementById("copy-btn");

textarea.addEventListener("input", updateStats);
clearBtn.addEventListener("click", clearTextarea);
removeDuplicatesBtn.addEventListener("click", removeDuplicates);
replaceBtn.addEventListener("click", replaceText);
regexReplaceBtn.addEventListener("click", replaceTextUsingRegex);

function updateStats() {
  const text = textarea.value;
  const total = text.length;
  const chinese = text.match(/[\u4e00-\u9fa5]/g)?.length || 0;
  const punctuation = text.match(/[^\u4e00-\u9fa5\w]/g)?.length || 0;
  const alphabet = text.match(/[a-zA-Z]/g)?.length || 0;
  const numbers = text.match(/\d/g)?.length || 0;

  totalEl.textContent = `总数：${total}`;
  chineseEl.textContent = `汉字：${chinese}`;
  punctuationEl.textContent = `标点：${punctuation}`;
  alphabetEl.textContent = `字母：${alphabet}`;
  numbersEl.textContent = `数字：${numbers}`;
}

function clearTextarea() {
  textarea.value = "";
  updateStats();
}

// 去重处理
function removeDuplicates() {
  const text = textarea.value;
  const textList = text.split("\n"); // 假设文本项以换行符分隔
  
  const uniqueList = [...new Set(textList)];
  const duplicateCount = textList.length - uniqueList.length;
  duplicateEl.textContent = `重复：${duplicateCount}`;
  
  textarea.value = uniqueList.join("\n"); // 更新文本框内容
  updateStats(); // 更新统计信息
}

function replaceText() {
    const searchValue = searchInput.value;
    const replaceValue = replaceInput.value;
    const text = textarea.value;

    if (searchValue !== "") {
        const matches = text.match(new RegExp(searchValue, 'g'));
        const replaceCount = matches ? matches.length : 0; // 计算匹配项的次数

        const newText = text.replaceAll(searchValue, replaceValue);
        document.getElementById("replace-count").textContent = `替换：${replaceCount}`;
        textarea.value = newText;
        updateStats();
    }
}

        function replaceTextUsingRegex() {
            const searchValue = searchInput.value;
            const replaceValue = replaceInput.value;
            const text = textarea.value;

            if (searchValue !== "") {
                let newText;
                let matchCount = (text.match(new RegExp(searchValue, 'g')) || []).length;
                try {
                    newText = text.replace(new RegExp(searchValue, 'g'), replaceValue);
                } catch (e) {
                    alert("正则表达式有误: " + e.message);
                    return;
                }
                document.getElementById("regex-replace-count").textContent = `正则：${matchCount}`;
                textarea.value = newText;
                updateStats();
            }
        }

let apiUrl = ""; // 初始化为空

document.getElementById("openai-btn").addEventListener("click", function() {
    apiUrl = this.getAttribute("data-api-url");
    testAPI(); // 调用API测试函数
});

document.getElementById("openkey-btn").addEventListener("click", function() {
    apiUrl = this.getAttribute("data-api-url");
    testAPI(); // 调用API测试函数
});

function testAPI() {
    if (!apiUrl) {
        alert("请选择一个API URL");
        return;
    }

    const originalInput = document.getElementById('textarea').value;
    document.getElementById('textarea').value = "请稍后...";
    const apiKey = document.getElementById("api_key").value.trim();

    const data = {
        model: "gpt-3.5-turbo",
        messages: [
            { role: "system", content: "You are a helpful assistant." },
            { role: "user", content: originalInput }
        ]
    };

    const xhr = new XMLHttpRequest();
    xhr.open("POST", apiUrl, true);
    xhr.setRequestHeader("Content-Type", "application/json");
    xhr.setRequestHeader("Authorization", `Bearer ${apiKey}`);

    xhr.onreadystatechange = function() {
        if (this.readyState === XMLHttpRequest.DONE) {
            if (this.status === 200) {
                const response = JSON.parse(this.responseText);
                document.getElementById('textarea').value = response.choices[0].message.content;
                updateStats(); // 更新统计信息
            } else {
                document.getElementById('textarea').value = "请求失败，请检查您的API密钥和其他设置。";
            }
        }
    };

    xhr.send(JSON.stringify(data));
}	
	copyBtn.addEventListener("click", function() {
    let textToCopy;
    if (textarea.value === "") {
        // 按行分割占位符，然后用换行符连接
        textToCopy = textarea2.getAttribute("placeholder").split("*").join("*\n");
    } else {
        textToCopy = textarea2.value;
    }
    
    const tempInput = document.createElement("textarea"); // 使用文本区域代替输入来支持多行
    document.body.appendChild(tempInput);
    tempInput.value = textToCopy;
    tempInput.select();
    document.execCommand("copy");
    document.body.removeChild(tempInput);
    //alert("文本已复制到剪贴板!");
});
const pasteBtn = document.getElementById("paste-btn");

pasteBtn.addEventListener("click", function() {
    navigator.clipboard.readText()
    .then(clipText => {
        textarea.value = clipText;
        updateStats();
        //alert("文本已从剪贴板粘贴!");
    }).catch(err => {
        //alert('粘贴失败：' + err);
    });
});
</script>
<script>
    function formatHTML(input) {
        let formatted = '';
        let pad = 0;
        const tags = ['<p>', '</p>', '<div>', '</div>', '<span>', '</span>', '<br>', '<br/>']; // 这只是一个简化的标签列表，你可以添加更多的标签

        input.split(/\r?\n/).forEach(line => {
            let indent = 0;

            tags.forEach(tag => {
                if (line.includes(tag)) {
                    if (tag.startsWith('</')) {
                        pad -= 1;
                    }
                }
            });

            for (let i = 0; i < pad; i++) {
                indent += 4;
            }

            formatted += ' '.repeat(indent) + line.trim() + '\n';

            tags.forEach(tag => {
                if (line.includes(tag)) {
                    if (!tag.startsWith('</')) {
                        pad += 1;
                    }
                }
            });
        });

        return formatted;
    }

    function formatAndPreview() {
        const code = document.getElementById('textarea').value;
        const formattedCode = formatHTML(code);
        document.getElementById('textarea').value = formattedCode;
        
        const newWindow = window.open("", "Preview Window", "width=600,height=600");
        newWindow.document.write(code);
        newWindow.document.close();
    }
</script>
<script charset="UTF-8" id="LA_COLLECT" src="./index_files/js-sdk-pro.min.js.下载"></script>
<script>LA.init({id:"JRHGRBPWC7lJIaXq",ck:"JRHGRBPWC7lJIaXq"})</script>

</body></html>
